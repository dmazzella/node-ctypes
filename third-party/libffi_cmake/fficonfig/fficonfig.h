/* ============================================================================
 * fficonfig.h - Unified configuration for libffi (node-ctypes)
 * ============================================================================
 *
 * AUTO-GENERATED FILE - DO NOT EDIT MANUALLY
 * Generated by: third-party/libffi_cmake/generate-headers.js
 * From libffi version: 3.5.2
 *
 * This file replaces the autotools-generated fficonfig.h with a unified
 * version that uses preprocessor macros for platform detection.
 *
 * ============================================================================
 */

#ifndef FFICONFIG_H
#define FFICONFIG_H

/* Package information */
#define PACKAGE "libffi"
#define PACKAGE_NAME "libffi"
#define PACKAGE_VERSION "3.5.2"
#define PACKAGE_STRING "libffi 3.5.2"
#define PACKAGE_TARNAME "libffi"
#define PACKAGE_BUGREPORT "http://github.com/libffi/libffi/issues"
#define PACKAGE_URL ""
#define VERSION "3.5.2"

/* ============================================================================
 * Platform Detection
 * ============================================================================
 */

/* Windows */
#if defined(_WIN32) || defined(_WIN64) || defined(__CYGWIN__)
#  define FFI_PLATFORM_WINDOWS 1
#endif

/* macOS */
#if defined(__APPLE__) && defined(__MACH__)
#  define FFI_PLATFORM_MACOS 1
#  define MACOSX 1
#endif

/* Linux */
#if defined(__linux__)
#  define FFI_PLATFORM_LINUX 1
#endif

/* Android (is also __linux__ but needs special handling) */
#if defined(__ANDROID__)
#  define FFI_PLATFORM_ANDROID 1
#endif

/* FreeBSD */
#if defined(__FreeBSD__)
#  define FFI_PLATFORM_FREEBSD 1
#endif

/* NetBSD */
#if defined(__NetBSD__)
#  define FFI_PLATFORM_NETBSD 1
#endif

/* OpenBSD */
#if defined(__OpenBSD__)
#  define FFI_PLATFORM_OPENBSD 1
#endif

/* ============================================================================
 * Architecture Detection
 * ============================================================================
 */

/* x86-64 (AMD64) */
#if defined(__x86_64__) || defined(_M_X64) || defined(__amd64__)
#  define FFI_ARCH_X86_64 1
#  define SIZEOF_SIZE_T 8
#endif

/* ARM64 (AArch64) */
#if defined(__aarch64__) || defined(_M_ARM64)
#  define FFI_ARCH_AARCH64 1
#  define SIZEOF_SIZE_T 8
#endif

/* ARM32 */
#if defined(__arm__) || defined(_M_ARM)
#  define FFI_ARCH_ARM 1
#  define SIZEOF_SIZE_T 4
#endif

/* x86 (32-bit) */
#if defined(__i386__) || defined(_M_IX86)
#  define FFI_ARCH_X86 1
#  define SIZEOF_SIZE_T 4
#endif

/* ============================================================================
 * Common Configuration
 * ============================================================================
 */

/* Standard C library features */
#define STDC_HEADERS 1
#define HAVE_STDINT_H 1
#define HAVE_INTTYPES_H 1
#define HAVE_STRING_H 1
#define HAVE_MEMORY_H 1
#define HAVE_MEMCPY 1

/* Data type sizes */
#define SIZEOF_DOUBLE 8

/* Long double size varies by platform */
#if defined(FFI_PLATFORM_WINDOWS)
#  define SIZEOF_LONG_DOUBLE 8
#  define HAVE_LONG_DOUBLE 1
#elif defined(FFI_PLATFORM_MACOS)
#  if defined(FFI_ARCH_AARCH64)
#    define SIZEOF_LONG_DOUBLE 8
#  else
#    define SIZEOF_LONG_DOUBLE 16
#  endif
#  define HAVE_LONG_DOUBLE 1
#else
#  define SIZEOF_LONG_DOUBLE 16
#  define HAVE_LONG_DOUBLE 1
#endif

/* ============================================================================
 * Platform-Specific Configuration
 * ============================================================================
 */

#if defined(FFI_PLATFORM_WINDOWS)
/*
 * Windows configuration
 */

/* No mmap on Windows - use VirtualAlloc */
/* #undef HAVE_MMAP */
/* #undef HAVE_MMAP_ANON */
/* #undef HAVE_MMAP_DEV_ZERO */
/* #undef HAVE_MMAP_FILE */
/* #undef HAVE_SYS_MMAN_H */

/* No dlfcn on Windows */
/* #undef HAVE_DLFCN_H */

/* Windows has alloca via _alloca */
#define HAVE_ALLOCA 1
/* #undef HAVE_ALLOCA_H */

/* No unistd.h on Windows */
/* #undef HAVE_UNISTD_H */

/* Symbols are not underscored on Win64 */
#if defined(FFI_ARCH_X86)
#  define SYMBOL_UNDERSCORE 1
#endif

#else /* Unix-like systems (Linux, macOS) */
/*
 * Unix configuration
 */

/* Memory mapping */
#define HAVE_MMAP 1
#define HAVE_MMAP_ANON 1
#define HAVE_MMAP_FILE 1
#define HAVE_SYS_MMAN_H 1

/* Dynamic loading */
#define HAVE_DLFCN_H 1

/* alloca */
#define HAVE_ALLOCA 1
#define HAVE_ALLOCA_H 1

/* Unix headers */
#define HAVE_UNISTD_H 1
#define HAVE_SYS_STAT_H 1
#define HAVE_SYS_TYPES_H 1
#define HAVE_STRINGS_H 1

/* mkostemp - NOT available on FreeBSD < 13, OpenBSD, Solaris */
#if !defined(__FreeBSD__) && !defined(__OpenBSD__) && !defined(__sun)
#  define HAVE_MKOSTEMP 1
#endif

#if defined(FFI_PLATFORM_LINUX)
#  define HAVE_MMAP_DEV_ZERO 1
#endif

#endif /* Windows vs Unix */

/* ============================================================================
 * Compiler-Specific Configuration
 * ============================================================================
 */

#if defined(_MSC_VER) && !defined(__clang__)
/*
 * MSVC-specific
 */

/* MSVC doesn't have visibility attributes */
/* #undef HAVE_HIDDEN_VISIBILITY_ATTRIBUTE */

#else
/*
 * GCC/Clang
 */

/* Symbol visibility */
#define HAVE_HIDDEN_VISIBILITY_ATTRIBUTE 1

/* Assembler features */
#define HAVE_AS_CFI_PSEUDO_OP 1

#if defined(FFI_ARCH_X86_64) && !defined(FFI_PLATFORM_WINDOWS)
#  define HAVE_AS_X86_PCREL 1
#endif

#endif /* MSVC vs GCC/Clang */

/* ============================================================================
 * Feature Configuration
 * ============================================================================
 */

/* Read-only .eh_frame sections */
#if !defined(FFI_PLATFORM_WINDOWS)
#  define HAVE_RO_EH_FRAME 1
#  define EH_FRAME_FLAGS "a"
#endif

/* No raw API restrictions */
/* #undef FFI_NO_RAW_API */

/* No struct restrictions */
/* #undef FFI_NO_STRUCTS */

/* No special exec table needed */
/* #undef FFI_EXEC_TRAMPOLINE_TABLE */

/* Special exec table needed on macOS ARM64 */
#if defined(FFI_PLATFORM_MACOS) && defined(FFI_ARCH_AARCH64)
#  define FFI_EXEC_TRAMPOLINE_TABLE 1
#endif

/* mmap exec workaround needed on macOS x64 */
#if defined(FFI_PLATFORM_MACOS) && defined(FFI_ARCH_X86_64)
#  define FFI_MMAP_EXEC_WRIT 1
#endif

/* No mmap exec workarounds needed */
/* #undef FFI_MMAP_EXEC_WRIT */
/* #undef FFI_MMAP_EXEC_EMUTRAMP_PAX */

/* No debug by default */
/* #undef FFI_DEBUG */

/* ============================================================================
 * FFI_HIDDEN Macro Definition
 * ============================================================================
 */

#ifdef HAVE_HIDDEN_VISIBILITY_ATTRIBUTE
#  ifdef LIBFFI_ASM
#    ifdef __APPLE__
#      define FFI_HIDDEN(name) .private_extern name
#    else
#      define FFI_HIDDEN(name) .hidden name
#    endif
#  else
#    define FFI_HIDDEN __attribute__((visibility("hidden")))
#  endif
#else
#  ifdef LIBFFI_ASM
#    define FFI_HIDDEN(name)
#  else
#    define FFI_HIDDEN
#  endif
#endif

/* ============================================================================
 * Libtool stuff (not used but some code checks for it)
 * ============================================================================
 */

#define LT_OBJDIR ".libs/"

#endif /* FFICONFIG_H */
